<html>
<head>
    <script src="angular/angular.min.js"> </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>BookMyShow</title>
</head>
<script> var myModule = angular.module("myApp",[])  </script>
<body ng-app="myApp" class="t1">
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="main.html">Home</a>
    </nav>
    <form ng-controller='appController' ng-submit="send()"> <!--send() function from the controller is called on form submission -->

        <div ng-init = "data.Eno = '2'"></div>
        <div ng-init = "data.Ename = 'Sunburn Club Card 2020 - 2021'"></div>
        <div ng-init = "data.loc = 'Mumbai'"></div>
        <div ng-init = "data.date = 'Wednesday 30 March 2021'"></div>

        <div class="card mb-3">
        <img src="https://in.bmscdn.com/nmcms/events/banner/desktop/media-desktop-sunburn-club-card-2020-2021-2020-5-11-t-15-51-51.jpg" class="card-img-top" alt="..." >
        <div class="card-body">
          <h5 class="card-title">Sunburn Club Card 2020 - 2021<div class="float-right">
        <button ng-click="submit" class="btn btn-primary btn-lg">Book Now</button></div></h5>
          <p class="card-text">EDM | English | 15+ | 24hrs</p>
          <p class="card-text"><small class="text-muted">Cards</small></p>
          <pre><div class="alert alert-success" role="alert"> {{response.data}} </div></pre>
          <div class="card-footer">
            <h5 class="card-title">About</h5>
            <p class="card-text">Are you a Sunburn fan? Introducing for the very first time ever - Sunburn Club Card that offers a variety of exciting benefits at Sunburn events that you would not want to miss. 10 Benefits â€“ 1 Club - check out what we have in store for you!! Limited Early Bird offer starting at Rs. 999/- only!</p>
            <h5 class="card-title">Concept</h5>
            <p class="card-text">Sunburn Club Card is a loyalty programme that grants membership for 1 year until March 2021 that offers several exciting benefits across all Sunburn shows of the season!</p>
            <h5 class="card-title">Where can it be availed</h5>
            <p class="card-text">You can avail this membership on Bookmyshow as well as through our official offline promoters.</p>
            </div>
        </div>
        </div>

    </form>

     <script>
	 myModule.controller ("appController",
        function appController($scope, $http) {
            /*$http directive is used to communicate to the server */
            $scope.data = {}
            $scope.response = {}
			
            $scope.send = function () {
                /*executed when submit is clicked*/          
				console.log($scope.data.name);
                var posting = $http({
			/*posting to /process_get  */
                    //method: 'GET',
                    //url: '/process_get',
                    //params: $scope.data,
			/*posting to /process_post*/
                    method: 'POST',
                    url: '/process_post',
                    data: $scope.data,
                    
                }).then (function (response) {
                    /*executed when server responds back*/
                    console.log(response);
                    $scope.response.data = response.data;
                },function (error){
					console.log(error);
			});
            }
        });
    </script>
</body>
</html>