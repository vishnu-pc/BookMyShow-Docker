<html>
<head>
    <script src="angular/angular.min.js"> </script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>BookMyShow</title>
</head>
<script> var myModule = angular.module("myApp",[])  </script>
<body ng-app="myApp" class="t1">
    <nav class="navbar navbar-dark bg-dark">
        <a class="navbar-brand" href="main.html">Home</a>
    </nav>
    <form ng-controller='appController' ng-submit="send()"> <!--send() function from the controller is called on form submission -->

        <div ng-init = "data.Eno = '1'"></div>
        <div ng-init = "data.Ename = 'Beyond Limits-Virtual Run 2.0'"></div>
        <div ng-init = "data.loc = 'Worldwide'"></div>
        <div ng-init = "data.date = 'Sunday 31 May 2020'"></div>

        <div class="card mb-3">
        <img src="https://in.bmscdn.com/nmcms/events/banner/desktop/media-desktop-beyond-limits-virtual-run-20-2020-5-13-t-19-40-3.jpg" class="card-img-top" alt="..." >
        <div class="card-body">
          <h5 class="card-title">Beyond Limits-Virtual Run 2.0<div class="float-right">
        <button ng-click="submit" class="btn btn-primary btn-lg">Book Now</button></div></h5>
          <p class="card-text">Amid this tough time of lockdown, a lot of people are facing issues in maintaining their daily life because of no work. Townscript Originals brings to you Beyond Limits - Indoor Virtual Run, an opportunity to support the needy by running indoor.</p>
          <p class="card-text"><small class="text-muted">Running</small></p>
          <pre><div class="alert alert-success" role="alert"> {{response.data}} </div></pre>
          <div class="card-footer">
            <h5 class="card-title">About</h5>
            <p class="card-text">Amid this tough time of lockdown, a lot of people are facing issues in maintaining their daily life because of no work. Townscript Originals brings to you Beyond Limits - Indoor Virtual Run, an opportunity to support the needy by running indoor.</p>
            <h5 class="card-title">Concept</h5>
            <p class="card-text">We at Townscript will donate Rs.5 for every 1 KM that you complete running indoor from your Ticket fee. You will have 24 hours to complete the activity starting from 00:00 Hrs on 31st May 2020 till 23:59 Hrs 31st May. You can use and endurance activity tracking App to record your running, which you will have to share with us before 1st June 23:59 Hrs through Google form (shared with you on confirmation email).</p>
            <h5 class="card-title">The flow of the event</h5>
            <p class="card-text">Register for the event<br>
            You will receive a confirmation email with the Google Form Link<br>
            Complete your activity on 31st May between 00:00 Hrs to 23:59 Hrs (Indoor Running only)<br>
            Record your run through an endurance activity tracking App or device (like Strava, Garmin, Map my Run, etc.)and submit it before 1st June 2020 23:59 PM.<br>
            The leaderboard will be updated and certificates will be issued based on your submission<br>
            Donation to be made as per the distance covered.</p>
            </div>
        </div>
        </div>

    </form>

     <script>
	 myModule.controller ("appController",
        function appController($scope, $http) {
            /*$http directive is used to communicate to the server */
            $scope.data = {}
            $scope.response = {}
			
            $scope.send = function () {
                /*executed when submit is clicked*/          
				console.log($scope.data.name);
                var posting = $http({
			/*posting to /process_get  */
                    //method: 'GET',
                    //url: '/process_get',
                    //params: $scope.data,
			/*posting to /process_post*/
                    method: 'POST',
                    url: '/process_post',
                    data: $scope.data,
                    
                }).then (function (response) {
                    /*executed when server responds back*/
                    console.log(response);
                    $scope.response.data = response.data;
                },function (error){
					console.log(error);
			});
            }
        });
    </script>
</body>
</html>

 